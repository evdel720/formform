{"version":3,"sources":["webpack/bootstrap 59f307ef507ae66e07a9","./lib/game_view.js","./lib/piece.js","./lib/piece_array.js"],"names":["document","addEventListener","p","console","log","currentPiece","getBorderLength","neighbors","Piece","piece","Math","floor","random","length","idx","flipped","pieceArr","default","len","i","j","n","x","y","rotate","arr","res","temp","push","flip","forEach","row","pieces","map"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59f307ef507ae66e07a9","import Piece from './piece.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let p = new Piece();\n  console.log(p.currentPiece());\n  console.log(Piece.getBorderLength(p.currentPiece()));\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js","import pieces from './piece_array.js';\n// prepopulate all the pieces in piece_array.js\n\nconst neighbors = [[-1, 0], [1, 0], [0, -1], [0, 1]];\n\nclass Piece {\n  constructor() {\n    this.piece = pieces[Math.floor(Math.random() * pieces.length)];\n    this.idx = 0;\n    this.flipped = false;\n  }\n\n  currentPiece() {\n    let pieceArr = this.flipped ? this.piece.flipped : this.piece.default;\n    return pieceArr[this.idx];\n  }\n\n  rotate() {\n    this.idx = (this.idx + 1) % 4;\n  }\n\n  flip() {\n    // flip the piece\n    this.flipped = !this.flipped;\n  }\n\n  static getBorderLength(pieceArr) {\n    // returns the piece's length of border\n    let len = 0;\n    for (let i=0; i<pieceArr.length; i++) {\n      for (let j=0; j<pieceArr[0].length; j++) {\n        if (pieceArr[i][j] === 1) {\n          for (let n=0; n<4; n++) {\n            let [x, y] = neighbors[n];\n            if (pieceArr[x + i] && pieceArr[x + i][y + j] === 1) {\n              continue;\n            }\n            len++;\n          }\n        }\n      }\n    }\n    return len;\n  }\n}\n\nexport default Piece;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/piece.js","const rotate = (arr) => {\n  let res = [];\n  for (let j=0; j<arr[0].length; j++) {\n    let temp = [];\n    for (let i=arr.length - 1; i>=0; i--) {\n      temp.push(arr[i][j]);\n    }\n    res.push(temp);\n  }\n  return res;\n};\n\nconst flip = (arr) => {\n  let res = [];\n  arr.forEach((row) => {\n    let temp = [];\n    for (let i=row.length - 1; i>=0; i--) {\n      temp.push(row[i]);\n    }\n    res.push(temp);\n  });\n  return res;\n};\n\nconst pieces = [\n  [[1, 1, 1], [0, 1, 0]],\n  [[1, 1], [1, 1]],\n  [[1, 1, 1]],\n  [[1, 1]],\n  [[1, 1, 1, 1]],\n  [[1, 1], [1, 0]],\n  [[1, 1, 1], [1, 1, 0]],\n  [[1, 1, 1], [1, 0, 0]],\n  [[1, 0, 0], [1, 1, 1], [0, 0, 1]],\n  [[1, 1, 1, 1], [0, 1, 0, 0]],\n  [[1, 1, 0], [0, 1, 1]],\n  [[1, 1, 1, 1], [1, 0, 0, 0]]\n];\n\nexport default pieces.map((p, idx) => {\n  let piece = {};\n  piece.default = [p];\n  piece.flipped = [flip(p)];\n  for (let i=0; i<3; i++) {\n    piece.default.push(rotate(piece.default[i]));\n    piece.flipped.push(rotate(piece.flipped[i]));\n  }\n  return piece;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/piece_array.js"],"sourceRoot":""}